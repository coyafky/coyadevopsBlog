---
title: "linuxæ–‡ä»¶ç›®å½•ç®¡ç†"
outline: deep
desc: "linuxæ–‡ä»¶ç›®å½•ç®¡ç†"
tags: "Devops"
updateTime: "2025-04-23 16:22"
---


# CPæŒ‡ä»¤
## ä¸€ã€åŸºç¡€æ“ä½œç²¾è¦

### 1.1 åŸºç¡€å¤åˆ¶è¯­æ³•

```bash
cp [é€‰é¡¹] æºæ–‡ä»¶ ç›®æ ‡æ–‡ä»¶      # å•æ–‡ä»¶å¤åˆ¶
cp [é€‰é¡¹] æºæ–‡ä»¶... ç›®æ ‡ç›®å½•   # å¤šæ–‡ä»¶å¤åˆ¶
```

### 1.2 å¸¸ç”¨é€‰é¡¹é€ŸæŸ¥è¡¨

| é€‰é¡¹ | åŠŸèƒ½æè¿°           | å±é™©ç­‰çº§ |
| ---- | ------------------ | -------- |
| `-r` | é€’å½’å¤åˆ¶ç›®å½•       | â˜…â˜…â˜…â˜†     |
| `-i` | è¦†ç›–å‰æç¤ºç¡®è®¤     | â˜…â˜†â˜†â˜†     |
| `-v` | æ˜¾ç¤ºè¯¦ç»†æ“ä½œä¿¡æ¯   | â˜…â˜†â˜†â˜†     |
| `-n` | ç¦æ­¢è¦†ç›–å·²æœ‰æ–‡ä»¶   | â˜…â˜…â˜†â˜†     |
| `-u` | ä»…å¤åˆ¶æ›´æ–°æ–‡ä»¶     | â˜…â˜…â˜†â˜†     |
| `-l` | åˆ›å»ºç¡¬é“¾æŽ¥æ›¿ä»£å¤åˆ¶ | â˜…â˜†â˜†â˜†     |
| `-s` | åˆ›å»ºç¬¦å·é“¾æŽ¥       | â˜…â˜…â˜†â˜†     |

## äºŒã€å…¸åž‹ä½¿ç”¨åœºæ™¯

### 2.1 æ–‡ä»¶å¤åˆ¶æ“ä½œ

```bash
# åŸºæœ¬æ–‡ä»¶å¤åˆ¶
cp document.txt backup/

# ä¿ç•™å…ƒæ•°æ®å¤åˆ¶
cp -p config.cfg /etc/

# æ‰¹é‡å¤åˆ¶åŒ¹é…æ–‡ä»¶
cp *.log /var/log/archive/
```

### 2.2 ç›®å½•å¤åˆ¶æ“ä½œ

```bash
# é€’å½’å¤åˆ¶æ•´ä¸ªç›®å½•
cp -r ~/projects /backup/

# ä¿ç•™ç›®å½•ç»“æž„å¤åˆ¶
cp --parents src/lib/utils.py /backup/

# æŽ’é™¤ç‰¹å®šæ–‡ä»¶å¤åˆ¶
cp -r --exclude="*.tmp" data/ backup/
```

## ä¸‰ã€é«˜çº§åº”ç”¨æŠ€å·§

### 3.1 æ™ºèƒ½åŒæ­¥ç­–ç•¥

```bash
# å¢žé‡å¤åˆ¶ï¼ˆä»…æ›´æ–°æ–‡ä»¶ï¼‰
cp -u -v -r src/ dest/

# é•œåƒç›®å½•ç»“æž„ï¼ˆä¸å¤åˆ¶æ–‡ä»¶ï¼‰
find src/ -type d -exec mkdir -p dest/{} \;
```

### 3.2 ç‰¹æ®Šæ–‡ä»¶å¤„ç†

```bash
# ä¿ç•™ç¬¦å·é“¾æŽ¥ç»“æž„
cp -P linked_file backup/

# å¼ºåˆ¶ä¿ç•™æ‰€æœ‰å±žæ€§
cp -a original/ duplicate/  # ç­‰æ•ˆ -dpr --preserve=all

# ç¨€ç–æ–‡ä»¶é«˜æ•ˆå¤åˆ¶
cp --sparse=always bigfile.img copy.img
```

# æŒ‡ä»¤
---
### **`./` åœ¨ Linux ä¸­çš„æ ¸å¿ƒå«ä¹‰**  
åœ¨ Linux ç³»ç»Ÿä¸­ï¼Œ`./` æ˜¯ä¸€ä¸ª **è·¯å¾„ç¬¦å·**ï¼Œè¡¨ç¤º **å½“å‰å·¥ä½œç›®å½•**ï¼ˆCurrent Directoryï¼‰ã€‚å…¶å…·ä½“ä½œç”¨ä¸Žä½¿ç”¨åœºæ™¯å¦‚ä¸‹ï¼š


---

#### **ä¸€ã€æ ¸å¿ƒåŠŸèƒ½**  

1. **æ‰§è¡Œå½“å‰ç›®å½•ä¸‹çš„å¯æ‰§è¡Œæ–‡ä»¶**  

   - é»˜è®¤æƒ…å†µä¸‹ï¼ŒLinux ä¸ä¼šç›´æŽ¥æœç´¢å½“å‰ç›®å½•ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆå‡ºäºŽå®‰å…¨è€ƒè™‘ï¼‰ã€‚  
   - ä½¿ç”¨ `./` æ˜¾å¼æŒ‡å®šæ–‡ä»¶è·¯å¾„ï¼Œå‘ŠçŸ¥ç³»ç»Ÿä»Žå½“å‰ç›®å½•è¿è¡Œç¨‹åºæˆ–è„šæœ¬ã€‚  

   **ç¤ºä¾‹**ï¼š  

   ```bash  
   # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„è„šæœ¬æ–‡ä»¶  
   ./script.sh  
   
   # è¿è¡Œå½“å‰ç›®å½•ä¸‹çš„å¯æ‰§è¡Œç¨‹åº  
   ./myapp  
   ```

2. **å¼•ç”¨å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶**  

   - åœ¨å‘½ä»¤ä¸­æ˜Žç¡®æ“ä½œå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œé¿å…è·¯å¾„æ­§ä¹‰ã€‚  

   **ç¤ºä¾‹**ï¼š  

   ```bash  
   # å¤åˆ¶å½“å‰ç›®å½•çš„ file.txt åˆ° /tmp  
   cp ./file.txt /tmp/  
   ```

---

#### **äºŒã€ä¸ºä»€ä¹ˆè¦ç”¨ `./`ï¼Ÿ**  

1. **å®‰å…¨æœºåˆ¶**ï¼š  
   - Linux çš„ `PATH` çŽ¯å¢ƒå˜é‡å®šä¹‰äº†ç³»ç»Ÿæœç´¢å¯æ‰§è¡Œæ–‡ä»¶çš„ç›®å½•ï¼Œé»˜è®¤ **ä¸åŒ…å«å½“å‰ç›®å½•**ï¼ˆé˜²æ­¢æ¶æ„ç¨‹åºè¢«æ„å¤–æ‰§è¡Œï¼‰ã€‚  
   - è‹¥ç›´æŽ¥è¾“å…¥ `script.sh`ï¼Œç³»ç»Ÿä¼šæç¤º `command not found`ï¼ˆé™¤éžå½“å‰ç›®å½•åœ¨ `PATH` ä¸­ï¼‰ã€‚  

2. **è·¯å¾„æ˜Žç¡®æ€§**ï¼š  
   - ä½¿ç”¨ `./` æ˜Žç¡®æŒ‡å®šæ–‡ä»¶ä½ç½®ï¼Œé¿å…ä¸ŽåŒåç³»ç»Ÿå‘½ä»¤å†²çªï¼ˆå¦‚å½“å‰ç›®å½•æœ‰ `ls` æ–‡ä»¶æ—¶ï¼Œ`./ls` ä¼˜å…ˆäºŽç³»ç»Ÿå‘½ä»¤ `/bin/ls`ï¼‰ã€‚  

---

#### **ä¸‰ã€å¸¸è§ä½¿ç”¨åœºæ™¯**  

1. **è¿è¡Œè„šæœ¬æˆ–ç¨‹åº**  

   ```bash  
   # èµ‹äºˆè„šæœ¬æ‰§è¡Œæƒé™  
   chmod +x script.sh  
   
   # æ‰§è¡Œè„šæœ¬  
   ./script.sh  
   ```

2. **è°ƒè¯•ç¼–è¯‘åŽçš„ç¨‹åº**  

   ```bash  
   # ç¼–è¯‘ C ç¨‹åº  
   gcc hello.c -o hello  
   
   # è¿è¡Œç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶  
   ./hello  
   ```

3. **æ“ä½œå½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶**  

   ```bash  
   # åˆ é™¤å½“å‰ç›®å½•ä¸‹æ‰€æœ‰ .tmp æ–‡ä»¶  
   rm ./*.tmp  
   ```

---

#### **å››ã€å¯¹æ¯”å…¶ä»–è·¯å¾„ç¬¦å·**  

| **ç¬¦å·** | **å«ä¹‰**                | **ç¤ºä¾‹**                     |
| -------- | ----------------------- | ---------------------------- |
| `.`      | å½“å‰ç›®å½•ï¼ˆç­‰ä»·äºŽ `./`ï¼‰ | `ls .` â†’ åˆ—å‡ºå½“å‰ç›®å½•å†…å®¹    |
| `..`     | ä¸Šä¸€çº§ç›®å½•              | `cd ..` â†’ è¿”å›žä¸Šçº§ç›®å½•       |
| `~`      | ç”¨æˆ·å®¶ç›®å½•              | `cd ~` â†’ è¿›å…¥å½“å‰ç”¨æˆ·å®¶ç›®å½•  |
| `/`      | æ ¹ç›®å½•æˆ–è·¯å¾„åˆ†éš”ç¬¦      | `/home/user/file` â†’ ç»å¯¹è·¯å¾„ |

---

é€šè¿‡ `./` æ˜¾å¼æŒ‡å®šå½“å‰ç›®å½•è·¯å¾„ï¼Œå¯ä»¥ç¡®ä¿å‘½ä»¤æ‰§è¡Œçš„å‡†ç¡®æ€§å’Œå®‰å…¨æ€§ï¼ ðŸ”’


# Linux `ls` å‘½ä»¤å®Œå…¨æŒ‡å—ï¼šæ–‡ä»¶åˆ—è¡¨ä¸Žé«˜çº§ç”¨æ³•  

## ä¸€ã€å‘½ä»¤æ ¸å¿ƒåŠŸèƒ½  
`ls` æ˜¯ Linux ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„ **æ–‡ä»¶åˆ—è¡¨å·¥å…·**ï¼Œç”¨äºŽæ˜¾ç¤ºç›®å½•å†…å®¹åŠæ–‡ä»¶è¯¦ç»†ä¿¡æ¯ã€‚æ”¯æŒè¶…è¿‡ 30 ç§é€‰é¡¹ï¼Œå¯è¿›è¡ŒæŽ’åºã€ç­›é€‰ã€æ ¼å¼åŒ–è¾“å‡ºç­‰æ“ä½œã€‚

---

## äºŒã€åŸºç¡€è¯­æ³•ä¸Žå¸¸ç”¨é€‰é¡¹  
```bash  
ls [é€‰é¡¹] [æ–‡ä»¶/ç›®å½•]  
```  

### å¸¸ç”¨é€‰é¡¹é€ŸæŸ¥è¡¨  

| é€‰é¡¹ | æè¿°                          |  
|------|-------------------------------|  
| `-l` | é•¿æ ¼å¼æ˜¾ç¤ºï¼ˆæƒé™ã€æ‰€æœ‰è€…ã€å¤§å°ç­‰ï¼‰ |  
| `-a` | æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰      |  
| `-t` | æŒ‰ä¿®æ”¹æ—¶é—´æŽ’åºï¼ˆæœ€æ–°ä¼˜å…ˆï¼‰        |  
| `-r` | åè½¬æŽ’åºé¡ºåº                   |  
| `-h` | äººæ€§åŒ–æ˜¾ç¤ºæ–‡ä»¶å¤§å°ï¼ˆKB/MB/GBï¼‰   |  
| `-R` | é€’å½’æ˜¾ç¤ºå­ç›®å½•å†…å®¹              |  

---

## ä¸‰ã€å®žç”¨æ¡ˆä¾‹è§£æž  

### 1. æ˜¾ç¤ºæœ€è¿‘ä¿®æ”¹çš„æ–‡ä»¶  
```bash  
ls -lt | head -1  # èŽ·å–æœ€æ–°ä¿®æ”¹æ–‡ä»¶  
```  
**è¾“å‡ºç¤ºä¾‹**ï¼š  
```  
-rw-r--r-- 1 user group 2.5K Jun 15 10:30 report.pdf  
```  

### 2. æŒ‰æ–‡ä»¶å¤§å°æŽ’åº  
```bash  
ls -lhS  # å¤§æ–‡ä»¶ä¼˜å…ˆæ˜¾ç¤º  
```  
**è¾“å‡ºå­—æ®µè¯´æ˜Ž**ï¼š  
```  
-rwxr-xr-x 1 root root 15M Apr  5 09:00 app  
drwxr-xr-x 2 user group 4.0K Jun 14 16:00 docs  
```  

### 3. æ˜¾ç¤ºéšè—æ–‡ä»¶  
```bash  
ls -a  # åŒ…å« .config .bashrc ç­‰éšè—æ–‡ä»¶  
```  

---

## å››ã€é«˜çº§è¾“å‡ºæ ¼å¼  

### 1. æ–‡ä»¶ç±»åž‹æ ‡è¯†ç¬¦  
ä½¿ç”¨ `-F` é€‰é¡¹æ˜¾ç¤ºæ–‡ä»¶ç±»åž‹æ ‡è®°ï¼š  
```bash  
ls -F  
```  
**è¾“å‡ºç¤ºä¾‹**ï¼š  
```  
script.sh*  # å¯æ‰§è¡Œæ–‡ä»¶  
downloads/  # ç›®å½•  
link@       # ç¬¦å·é“¾æŽ¥  
```  

### 2. æ˜¾ç¤º inode ç¼–å·  
```bash  
ls -i  # æŸ¥çœ‹æ–‡ä»¶å”¯ä¸€æ ‡è¯†  
```  
**è¾“å‡ºç¤ºä¾‹**ï¼š  
```  
1234567 README.md  7654321 setup.py  
```  

---

## äº”ã€ç»„åˆåº”ç”¨åœºæ™¯  

### 1. ç»Ÿè®¡ç›®å½•æ–‡ä»¶æ•°  
```bash  
ls -l | grep "^-" | wc -l  # ä»…ç»Ÿè®¡æ™®é€šæ–‡ä»¶  
```  

### 2. æŸ¥æ‰¾å¤§æ–‡ä»¶ï¼ˆè¶…è¿‡100MB 
```bash  
ls -lh | awk '$5+0 > 100'  # +0 è½¬æ¢äººç±»å¯è¯»å¤§å°ä¸ºæ•°å­—  
```  

### 3. æ‰¹é‡ä¿®æ”¹æƒé™  
```bash  
ls -1 | xargs chmod 755  # æ‰€æœ‰æ–‡ä»¶è®¾ä¸º rwxr-xr-x  
```  

---

## å…­ã€è¾“å‡ºæ ¼å¼æ·±åº¦è§£æž  

### é•¿æ ¼å¼ (`-l`) å­—æ®µè¯´æ˜Ž  
```  
drwxr-xr-x 2 user group 4.0K Jun 15 10:30 Documents  
```  
1. **æ–‡ä»¶ç±»åž‹ä¸Žæƒé™**ï¼š  
   - `d`ï¼šç›®å½•  
   - `rwxr-xr-x`ï¼šæ‰€æœ‰è€…å¯è¯»å†™æ‰§è¡Œï¼Œç»„å’Œå…¶ä»–ç”¨æˆ·å¯è¯»æ‰§è¡Œ  
2. **ç¡¬é“¾æŽ¥æ•°**ï¼š`2`  
3. **æ‰€æœ‰è€…**ï¼š`user`  
4. **æ‰€å±žç»„**ï¼š`group`  
5. **å¤§å°**ï¼š`4.0K`ï¼ˆç›®å½•æœ¬èº«å ç”¨ç©ºé—´ï¼‰  
6. **ä¿®æ”¹æ—¶é—´**ï¼š`Jun 15 10:30`  
7. **åç§°**ï¼š`Documents`  

---

## ä¸ƒã€å¸¸è§é—®é¢˜æŽ’æŸ¥  

### Q1ï¼šä¸ºä»€ä¹ˆç›®å½•å¤§å°æ˜¾ç¤ºä¸º4Kï¼Ÿ  
- ç›®å½•åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ä½œä¸ºç‰¹æ®Šæ–‡ä»¶å­˜å‚¨ï¼Œ4K æ˜¯å…¶å…ƒæ•°æ®å ç”¨ç©ºé—´ï¼Œå®žé™…å†…å®¹å¤§å°éœ€ç”¨ `du` å‘½ä»¤æŸ¥çœ‹ï¼š  
```bash  
du -sh Documents  
```  

### Q2ï¼šå¦‚ä½•æ˜¾ç¤ºå®Œæ•´æ—¶é—´æˆ³ï¼Ÿ  
```bash  
ls -l --time-style=full-iso  
```  
**è¾“å‡ºç¤ºä¾‹**ï¼š  
```  
-rw-r--r-- 1 user group 2053 2024-06-15 10:30:00.000000000 +0800 file.txt  
```  

---

## å…«ã€æ‰©å±•æŠ€å·§  

### 1. è‡ªå®šä¹‰æ—¶é—´æ ¼å¼  
```bash  
ls -l --time-style="+%Y-%m-%d %H:%M:%S"  
```  

### 2. æŽ’é™¤ç‰¹å®šæ–‡ä»¶  
```bash  
ls --hide=*.tmp  # ä¸æ˜¾ç¤º .tmp æ–‡ä»¶  
```  

### 3. æ˜¾ç¤º ACL æƒé™  
```bash  
ls -l -e  # æŸ¥çœ‹æ‰©å±•æƒé™ä¿¡æ¯  
```  

---

é€šè¿‡æŽŒæ¡ `ls` å‘½ä»¤çš„æ·±åº¦ç”¨æ³•ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š  
1. å¿«é€Ÿå®šä½å…³é”®æ–‡ä»¶  
2. åˆ†æžç£ç›˜ç©ºé—´åˆ†å¸ƒ  
3. æŽ’æŸ¥æƒé™ç›¸å…³é—®é¢˜  
4. ç¼–å†™é«˜æ•ˆShellè„šæœ¬  

> **ä¸“ä¸šæç¤º**ï¼šç»“åˆ `find` å‘½ä»¤å¯å®žçŽ°æ›´å¤æ‚çš„æ–‡ä»¶æ£€ç´¢æ“ä½œï¼Œä¾‹å¦‚ï¼š  
> ```bash  
> find . -type f -exec ls -lh {} \;  
> ```


# Linux `pwd` å‘½ä»¤å®Œå…¨è§£æžï¼šæ˜¾ç¤ºä¸Žè§£æžå·¥ä½œç›®å½•  

## ä¸€ã€æ ¸å¿ƒåŠŸèƒ½è§£æž  
`pwd`ï¼ˆprint working directoryï¼‰æ˜¯ Linux ç³»ç»Ÿçš„ **ç›®å½•è·¯å¾„æ˜¾ç¤ºå·¥å…·**ï¼Œç”¨äºŽè¾“å‡ºå½“å‰å·¥ä½œç›®å½•çš„ç»å¯¹è·¯å¾„ã€‚æ”¯æŒä¸¤ç§æ¨¡å¼ï¼š  
- **ç¬¦å·é“¾æŽ¥è§£æžæ¨¡å¼**ï¼ˆé»˜è®¤ï¼‰  
- **ç‰©ç†è·¯å¾„æ˜¾ç¤ºæ¨¡å¼**  

---

## äºŒã€å‘½ä»¤è¯­æ³•ä¸Žè¿è¡Œæœºåˆ¶  
```bash  
pwd [é€‰é¡¹]  
```  
**ä¸¤ç§å®žçŽ°æ–¹å¼**ï¼š  
1. **Shell å†…ç½®å‘½ä»¤**ï¼šä¼˜å…ˆä½¿ç”¨ï¼Œè¡Œä¸ºç­‰ä»·äºŽ `pwd -L`  
2. **ç‹¬ç«‹äºŒè¿›åˆ¶ç¨‹åº**ï¼šè·¯å¾„ä¸º `/bin/pwd`ï¼Œé»˜è®¤è¡Œä¸ºç­‰ä»·äºŽ `pwd -P`  

---

## ä¸‰ã€å…³é”®é€‰é¡¹è¯´æ˜Ž  

| é€‰é¡¹ | æè¿°                          | é€‚ç”¨åœºæ™¯                  |  
|------|-------------------------------|-------------------------|  
| `-L` | æ˜¾ç¤ºé€»è¾‘è·¯å¾„ï¼ˆè§£æžç¬¦å·é“¾æŽ¥ï¼‰         | æŸ¥çœ‹ç”¨æˆ·è®¿é—®è·¯å¾„          |  
| `-P` | æ˜¾ç¤ºç‰©ç†è·¯å¾„ï¼ˆå¿½ç•¥ç¬¦å·é“¾æŽ¥ï¼‰         | èŽ·å–æ–‡ä»¶ç³»ç»ŸçœŸå®žå­˜å‚¨ä½ç½®    |  

---

## å››ã€çŽ¯å¢ƒå˜é‡ `$PWD`  
è¯¥å˜é‡åŠ¨æ€å­˜å‚¨å½“å‰å·¥ä½œç›®å½•è·¯å¾„ï¼Œå…¶è¡Œä¸ºä¸Ž `pwd -L` å®Œå…¨ä¸€è‡´ï¼š  
```bash  
echo $PWD  # è¾“å‡ºç¤ºä¾‹ï¼š/home/user/projects  
```  

---

## äº”ã€å®žæˆ˜åº”ç”¨æ¡ˆä¾‹  

### 1. åŸºç¡€ç”¨æ³•ï¼šæ˜¾ç¤ºå½“å‰ç›®å½•  
```bash  
pwd  
# è¾“å‡ºç¤ºä¾‹ï¼š/var/www/html  
```  

### 2. æŸ¥çœ‹ç¬¦å·é“¾æŽ¥çœŸå®žè·¯å¾„  
å‡è®¾ `/var/www/html` æ˜¯ç¬¦å·é“¾æŽ¥ï¼ŒæŒ‡å‘ `/mnt/storage/web`ï¼š  
```bash  
pwd -P  
# è¾“å‡ºï¼š/mnt/storage/web  
```  

### 3. è„šæœ¬ä¸­è®°å½•å·¥ä½œç›®å½•  
```bash  
#!/bin/bash  
SAVED_DIR=$(pwd)  
cd /tmp  
# æ‰§è¡Œæ“ä½œ...  
cd "$SAVED_DIR"  # è¿”å›žåŽŸå§‹ç›®å½•  
```  

---

## å…­ã€é«˜çº§ä½¿ç”¨åœºæ™¯  

### 1. è°ƒè¯•ç¬¦å·é“¾æŽ¥é—®é¢˜  
```bash  
# åˆ›å»ºæµ‹è¯•çŽ¯å¢ƒ  
ln -s /mnt/nfs/data /opt/app_data  

# å¯¹æ¯”è·¯å¾„å·®å¼‚  
cd /opt/app_data  
pwd     # è¾“å‡ºï¼š/opt/app_data  
pwd -P  # è¾“å‡ºï¼š/mnt/nfs/data  
```  

### 2. ç»“åˆ find å‘½ä»¤å®šä½æ–‡ä»¶  
```bash  
find $(pwd) -name "*.log"  # æœç´¢å½“å‰ç›®å½•åŠå­ç›®å½•çš„æ—¥å¿—æ–‡ä»¶  
```  

---

## ä¸ƒã€æŠ€æœ¯åŽŸç†å‰–æž  

### 1. æ–‡ä»¶ç³»ç»Ÿä¸Ž inode  
`pwd -P` é€šè¿‡æŸ¥è¯¢æ–‡ä»¶ inode ç¡®å®šç‰©ç†è·¯å¾„ï¼Œä¸å—ç¬¦å·é“¾æŽ¥å½±å“ã€‚  

### 2. ç›®å½•æ ˆæœºåˆ¶  
Shell ç»´æŠ¤ç›®å½•æ ˆè®°å½•è®¿é—®åŽ†å²ï¼Œ`pwd` å®žé™…è¾“å‡ºçš„æ˜¯æ ˆé¡¶è·¯å¾„ã€‚  

---

## å…«ã€å¸¸è§é—®é¢˜è§£ç­”  

### Q1ï¼š`pwd` ä¸Ž `/bin/pwd` è¾“å‡ºä¸ºä½•ä¸åŒï¼Ÿ  
- **åŽŸå› **ï¼šShell å†…ç½®å‘½ä»¤é»˜è®¤ `-L` æ¨¡å¼ï¼Œè€ŒäºŒè¿›åˆ¶ç¨‹åºé»˜è®¤ `-P` æ¨¡å¼  
- **éªŒè¯**ï¼š  
  ```bash  
  /bin/pwd     # ç‰©ç†è·¯å¾„  
  pwd          # é€»è¾‘è·¯å¾„  
  ```  

### Q2ï¼šå¦‚ä½•æ°¸ä¹…ä¿®æ”¹é»˜è®¤è¡Œä¸ºï¼Ÿ  
- åœ¨ `.bashrc` ä¸­æ·»åŠ åˆ«åï¼š  
  ```bash  
  alias pwd='pwd -P'  # å§‹ç»ˆæ˜¾ç¤ºç‰©ç†è·¯å¾„  
  ```  

---

## ä¹ã€æ‰©å±•çŸ¥è¯†  

### 1. ç›®å½•åˆ‡æ¢éªŒè¯æŠ€å·§  
```bash  
cd /opt/../usr/local/bin  
pwd     # è¾“å‡ºï¼š/usr/local/bin  
pwd -P  # è¾“å‡ºï¼š/usr/local/bin  
```  

### 2. ç‰¹æ®Šç¬¦å·å¤„ç†  
```bash  
cd "My Project"  
pwd  # æ­£ç¡®è¾“å‡ºå¸¦ç©ºæ ¼çš„è·¯å¾„ï¼š/home/user/My\ Project  
```  

---

é€šè¿‡æŽŒæ¡ `pwd` å‘½ä»¤çš„æ·±åº¦ç”¨æ³•ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š  
1. ç²¾å‡†å®šä½æ–‡ä»¶ç³»ç»Ÿä½ç½®  
2. æœ‰æ•ˆæŽ’æŸ¥ç¬¦å·é“¾æŽ¥ç›¸å…³é—®é¢˜  
3. ç¼–å†™å¥å£®çš„ç›®å½•æ“ä½œè„šæœ¬  
4. æ·±å…¥ç†è§£ Linux ç›®å½•ç®¡ç†æœºåˆ¶  

> **ä¸“ä¸šæç¤º**ï¼šåœ¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸­ä¼˜å…ˆä½¿ç”¨ `$(pwd -P)` å¯é¿å…ç¬¦å·é“¾æŽ¥å¯¼è‡´çš„è·¯å¾„æ­§ä¹‰é—®é¢˜ã€‚

### **`mv` å‘½ä»¤å¤šæ–‡ä»¶æ“ä½œæ·±åº¦è§£æž**

---

#### **ä¸€ã€å¤šæ–‡ä»¶ç§»åŠ¨æ ¸å¿ƒè§„åˆ™**

**è¯­æ³•æ ¼å¼**ï¼š

```bash
mv [é€‰é¡¹] æºæ–‡ä»¶1 æºæ–‡ä»¶2 ... ç›®æ ‡ç›®å½•
```

**æ ¸å¿ƒåŽŸåˆ™**ï¼š  
**æœ€åŽä¸€ä¸ªå‚æ•°å¿…é¡»ä¸ºå·²å­˜åœ¨çš„ç›®å½•**ï¼Œå¦åˆ™ä¼šè§¦å‘é”™è¯¯æˆ–æ„å¤–è¦†ç›–ï¼

---

#### **äºŒã€ç”¨æˆ·æ¡ˆä¾‹ä¿®æ­£ä¸Žè§£æž**

---

##### **é”™è¯¯æ¡ˆä¾‹è¿˜åŽŸ**

```bash
# ç”¨æˆ·åŽŸå‘½ä»¤ï¼ˆæ³¨æ„æœ€åŽç¼ºå°‘ç›®å½•æ ‡è¯†ï¼‰
mv bashrc1 bashrc2 mvtest2
```

**é”™è¯¯åˆ†æž**ï¼š  

- è‹¥ `mvtest2` æ˜¯å·²å­˜åœ¨çš„æ–‡ä»¶ â†’ è§¦å‘è¦†ç›–  
- è‹¥ `mvtest2` ä¸å­˜åœ¨ â†’ æŠ¥é”™ `target is not a directory`

---

##### **æ­£ç¡®æ“ä½œç¤ºèŒƒ**

```bash
# æ˜Žç¡®æŒ‡å®šç›®æ ‡ç›®å½•ï¼ˆæŽ¨èæ·»åŠ æ–œæ ï¼‰
mv bashrc1 bashrc2 mvtest2/
```

**éªŒè¯ç›®å½•å­˜åœ¨æ€§**ï¼š  

```bash
# å…ˆç¡®è®¤ç›®æ ‡ç›®å½•å­˜åœ¨
ls -ld mvtest2/
# è‹¥ä¸å­˜åœ¨åˆ™åˆ›å»º
mkdir -p mvtest2/
```

---

#### **ä¸‰ã€å¤šæ–‡ä»¶æ“ä½œåœºæ™¯è¯¦è§£**

---

##### **åœºæ™¯ 1ï¼šæ‰¹é‡ç§»åŠ¨æ™®é€šæ–‡ä»¶**

```bash
# ç§»åŠ¨æ‰€æœ‰ .log æ–‡ä»¶åˆ°æ—¥å¿—ç›®å½•
mv -v *.log /var/logs/app_logs/
```

**å‚æ•°è¯´æ˜Ž**ï¼š  

- `-v` æ˜¾ç¤ºç§»åŠ¨è¿‡ç¨‹ï¼Œä¾¿äºŽè·Ÿè¸ªæ“ä½œç»“æžœ

---

##### **åœºæ™¯ 2ï¼šæ··åˆç§»åŠ¨æ–‡ä»¶å’Œç›®å½•**

```bash
# åŒæ—¶ç§»åŠ¨æ–‡ä»¶+ç›®å½•åˆ°å¤‡ä»½ç›®å½•
mv config.txt error.log project_assets/ /backup/2023-archive/
```

**ç›®å½•ç»“æž„å˜åŒ–**ï¼š  

```
åŽŸå§‹ä½ç½®                         ç›®æ ‡ä½ç½®
â”œâ”€â”€ config.txt           â†’    /backup/2023-archive/config.txt
â”œâ”€â”€ error.log            â†’    /backup/2023-archive/error.log
â””â”€â”€ project_assets/      â†’    /backup/2023-archive/project_assets/
```

---

##### **åœºæ™¯ 3ï¼šå¼ºåˆ¶è¦†ç›–å·²å­˜åœ¨æ–‡ä»¶**

```bash
# è·³è¿‡ç¡®è®¤ç›´æŽ¥è¦†ç›–æ—§å¤‡ä»½
mv -f database.dump latest_backup/
```

**é£Žé™©æç¤º**ï¼š  

- ä½¿ç”¨ `-f` å‰å»ºè®®å…ˆåˆ—å‡ºç›®æ ‡ç›®å½•å†…å®¹ï¼š  

  ```bash
  ls -l latest_backup/database.dump
  ```

---

#### **å››ã€é˜²å¾¡æ€§æ“ä½œæŠ€å·§**

---

##### **1. å®‰å…¨è¦†ç›–ç­–ç•¥**

```bash
# è¦†ç›–å‰åˆ›å»ºå¤‡ä»½ï¼ˆåŽŸæ–‡ä»¶ä¼šæ·»åŠ  ~ åŽç¼€ï¼‰
mv -b updated.txt config/
```

**æ•ˆæžœ**ï¼š  

```
config/
â”œâ”€â”€ updated.txt   # æ–°æ–‡ä»¶
â””â”€â”€ updated.txt~  # æ—§æ–‡ä»¶å¤‡ä»½
```

---

##### **2. äº¤äº’å¼æ‰¹é‡ç¡®è®¤**

```bash
# ç§»åŠ¨å¤šä¸ªæ–‡ä»¶æ—¶é€ä¸ªç¡®è®¤
mv -i *.tmp /tmp/
```

**äº¤äº’è¿‡ç¨‹**ï¼š  

```
mv: overwrite '/tmp/file1.tmp'? y
mv: overwrite '/tmp/file2.tmp'? n
```

---

##### **3. æ™ºèƒ½æ›´æ–°æ¨¡å¼**

```bash
# ä»…å½“æºæ–‡ä»¶æ›´æ–°æ—¶æ‰è¦†ç›–ç›®æ ‡
mv -u fresh_data.csv /mnt/nas/datasets/
```

**é€‚ç”¨åœºæ™¯**ï¼š  

- å®šæœŸåŒæ­¥æ›´æ–°æ–‡ä»¶  
- é¿å…è¦†ç›–è¾ƒæ–°çš„ç‰ˆæœ¬  

---

#### **äº”ã€é«˜é˜¶åº”ç”¨**

---

##### **1. ç»“åˆé€šé…ç¬¦è¿‡æ»¤**

```bash
# ç§»åŠ¨æ‰€æœ‰ä»¥æ•°å­—ç»“å°¾çš„æ–‡ä»¶ï¼ˆéœ€å¯ç”¨ extglobï¼‰
shopt -s extglob
mv file_[0-9]*.log /archive/
```

---

##### **2. æŽ’é™¤ç‰¹å®šæ–‡ä»¶**

```bash
# ç§»åŠ¨é™¤ .bak å¤–çš„æ‰€æœ‰æ–‡ä»¶ï¼ˆéœ€å¯ç”¨ extglobï¼‰
shopt -s extglob
mv !(*.bak) ./clean_folder/
```

---

##### **3. è·¨è®¾å¤‡ç§»åŠ¨ä¼˜åŒ–**

```bash
# å½“æºä¸Žç›®æ ‡åœ¨ä¸åŒç£ç›˜æ—¶çš„åº•å±‚æ“ä½œ
mv bigfile.iso /mnt/network_drive/  
# å®žé™…æ‰§è¡Œæµç¨‹ï¼šå¤åˆ¶æ•°æ® â†’ åˆ é™¤åŽŸæ–‡ä»¶
```

---

#### **å…­ã€å±é™©æ“ä½œé˜²æŠ¤æŒ‡å—**

---

##### **é«˜å±å‘½ä»¤ç¤ºä¾‹**

```bash
# ç¾éš¾æ€§æ“ä½œï¼ˆé”™è¯¯ä½¿ç”¨ç©ºæ ¼ï¼‰
mv * .old/      # è‹¥ .old ç›®å½•ä¸å­˜åœ¨ï¼Œä¼šå˜æˆé‡å‘½åæ“ä½œï¼

# æ„å¤–è¦†ç›–ç³»ç»Ÿæ–‡ä»¶
mv ~/downloads/libc.so.6 /lib64/  # å¯èƒ½å¯¼è‡´ç³»ç»Ÿå´©æºƒ
```

---

##### **é˜²æŠ¤æŽªæ–½**

1. **å¯ç”¨åˆ«åä¿æŠ¤**ï¼š  

   ```bash
   # åœ¨ ~/.bashrc ä¸­æ·»åŠ 
   alias mv='mv -i'
   ```

2. **æ“ä½œå‰é¢„è§ˆ**ï¼š  

   ```bash
   echo mv *.txt destination/  # æ˜¾ç¤ºå®žé™…ä¼šæ‰§è¡Œçš„å‘½ä»¤
   ```

3. **ä½¿ç”¨ rsync æµ‹è¯•**ï¼š  

   ```bash
   rsync -avn src/ dest/       # -n å‚æ•°æ¨¡æ‹Ÿæ“ä½œ
   ```

---

#### **ä¸ƒã€é€ŸæŸ¥è¡¨**

```bash
# å¤šæ–‡ä»¶ç§»åŠ¨æ ‡å‡†åŒ–æµç¨‹
[1] ls æºæ–‡ä»¶                 # ç¡®è®¤æºæ–‡ä»¶åˆ—è¡¨
[2] mkdir -p ç›®æ ‡ç›®å½•         # ç¡®ä¿ç›®å½•å­˜åœ¨
[3] mv -iv æºæ–‡ä»¶ ç›®æ ‡ç›®å½•/   # äº¤äº’å¼+è¯¦æƒ…æ¨¡å¼
[4] tree ç›®æ ‡ç›®å½•/            # éªŒè¯ç»“æžœ
```

---

### **æ€»ç»“**

- âœ… **æŽ¨èå†™æ³•**ï¼š  

  ```bash
  mv -v *.log logarchive/      # æ˜¾ç¤ºæ“ä½œè¯¦æƒ…
  mv -i *.conf /etc/backup/    # é‡è¦æ–‡ä»¶äº¤äº’ç¡®è®¤
  ```

- âš ï¸ **é¿å‘æŒ‡å—**ï¼š  

  - å§‹ç»ˆåœ¨ç›®å½•è·¯å¾„æœ«å°¾æ·»åŠ  `/`  
  - ä½¿ç”¨é€šé…ç¬¦å‰æ‰§è¡Œ `ls` ç¡®è®¤åŒ¹é…ç»“æžœ  
  - ç³»ç»Ÿå…³é”®ç›®å½•æ“ä½œå‰ä½¿ç”¨ `sudo -i` è¿›å…¥éš”ç¦»çŽ¯å¢ƒ  

éœ€è¦ç»ƒä¹ å¤šæ–‡ä»¶ç§»åŠ¨çš„å…·ä½“æ¡ˆä¾‹å—ï¼Ÿæˆ‘çƒ­çˆ±ç¼–ç¨‹ï¼Œå¯æä¾›æ›´å¤šå®žæˆ˜æ¼”ç¤ºï¼ 

### **`rm` æŒ‡ä»¤å¤åˆå‚æ•°æ·±åº¦è§£æž**

---

#### **ä¸€ã€æ ¸å¿ƒå‚æ•°ç»„åˆè¯¦è§£**

ä»¥ä¸‹æ˜¯ `rm` å‘½ä»¤æœ€å®žç”¨çš„å‚æ•°ç»„åˆåŠå…¶åº”ç”¨åœºæ™¯ï¼š

---

##### **1. `rm -rf` (é«˜å±æ“ä½œ)**

```bash
# å¼ºåˆ¶é€’å½’åˆ é™¤ç›®å½•åŠæ‰€æœ‰å†…å®¹ï¼ˆæ— ç¡®è®¤ï¼‰
rm -rf target_folder/
```

| **å‚æ•°ä½œç”¨**   | **å…¸åž‹åœºæ™¯**           | **é£Žé™©ç­‰çº§** |
| -------------- | ---------------------- | ------------ |
| `-r`ï¼šé€’å½’åˆ é™¤ | åˆ é™¤åŒ…å«å­ç›®å½•çš„æ–‡ä»¶å¤¹ | âš ï¸ æžé«˜       |
| `-f`ï¼šå¼ºåˆ¶åˆ é™¤ | è·³è¿‡æƒé™æ£€æŸ¥/é”™è¯¯æç¤º  |              |

**å®žé™…æ¡ˆä¾‹**ï¼š  

```bash
# åˆ é™¤ node_modules ç›®å½•ï¼ˆå¸¸è§å‰ç«¯é¡¹ç›®æ¸…ç†ï¼‰
rm -rf node_modules/
```

---

##### **2. `rm -ri` (å®‰å…¨æ¨¡å¼)**

```bash
# é€’å½’åˆ é™¤ + é€é¡¹ç¡®è®¤
rm -ri important_folder/
```

| **å‚æ•°ä½œç”¨**   | **å…¸åž‹åœºæ™¯**                   |
| -------------- | ------------------------------ |
| `-r`ï¼šé€’å½’åˆ é™¤ | éœ€è¦ç²¾ç¡®æŽ§åˆ¶åˆ é™¤å†…å®¹æ—¶         |
| `-i`ï¼šäº¤äº’ç¡®è®¤ | å¯¹æ¯ä¸ªæ–‡ä»¶å’Œå­ç›®å½•å•ç‹¬ç¡®è®¤åˆ é™¤ |

**æ“ä½œæ¼”ç¤º**ï¼š  

```bash
rm: descend into directory 'important_folder'? y
rm: remove regular file 'important_folder/secret.txt'? n  # é€‰æ‹©ä¿ç•™å…³é”®æ–‡ä»¶
rm: remove directory 'important_folder/trash'? y
```

---

##### **3. `rm -Iv` (æ™ºèƒ½ç¡®è®¤)**

```bash
# æ‰¹é‡åˆ é™¤æ—¶å•æ¬¡ç¡®è®¤ + æ˜¾ç¤ºæ“ä½œè¯¦æƒ…
rm -Iv *.log
```

| **å‚æ•°ä½œç”¨**   | **ä¼˜åŠ¿**                      |
| -------------- | ----------------------------- |
| `-I`ï¼šæ‰¹é‡ç¡®è®¤ | åˆ é™¤è¶…è¿‡3ä¸ªæ–‡ä»¶æ—¶è§¦å‘ä¸€æ¬¡ç¡®è®¤ |
| `-v`ï¼šæ˜¾ç¤ºè¿‡ç¨‹ | æ˜Žç¡®çœ‹åˆ°è¢«åˆ é™¤çš„æ–‡ä»¶è·¯å¾„      |

**è¾“å‡ºç¤ºä¾‹**ï¼š  

```
removed 'app.log'
removed 'error.log'
rm: remove 8 arguments? y  # ç»Ÿä¸€ç¡®è®¤
```

---

#### **äºŒã€é«˜é˜¶å®žç”¨æŠ€å·§**

---

##### **1. æŽ’é™¤ç‰¹å®šæ–‡ä»¶ç±»åž‹**

```bash
# åˆ é™¤æ‰€æœ‰æ–‡ä»¶ï¼Œä½†ä¿ç•™ .jpg å›¾ç‰‡
rm -v !(*.jpg)
```

**è¦æ±‚**ï¼šéœ€å…ˆå¯ç”¨ `extglob` æ‰©å±•  

```bash
shopt -s extglob  # ä¸´æ—¶å¯ç”¨
```

---

##### **2. æŒ‰æ—¶é—´ç­›é€‰åˆ é™¤**

```bash
# åˆ é™¤ 30 å¤©å‰åˆ›å»ºçš„ä¸´æ—¶æ–‡ä»¶ï¼ˆå®‰å…¨é¢„è§ˆç‰ˆï¼‰
find ./tmp -type f -mtime +30 -exec ls -l {} \;

# å®žé™…æ‰§è¡Œåˆ é™¤
find ./tmp -type f -mtime +30 -exec rm -v {} \;
```

---

##### **3. å¤„ç†æƒé™é—®é¢˜**

```bash
# å¼ºåˆ¶åˆ é™¤ root åˆ›å»ºçš„æ–‡ä»¶ï¼ˆéœ€ sudoï¼‰
sudo rm -rf /var/lock/nginx.lock

# åˆ é™¤åªè¯»æ–‡ä»¶ï¼ˆè·³è¿‡æƒé™éªŒè¯ï¼‰
rm -f read_only_file.conf
```

---

#### **ä¸‰ã€å‚æ•°å¯¹æ¯”è¡¨**

| **å‚æ•°ç»„åˆ**         | **è¡Œä¸ºç‰¹ç‚¹**                 | **æŽ¨èåœºæ™¯**         |
| -------------------- | ---------------------------- | -------------------- |
| `rm -rf`             | æ— æç¤ºå¼ºåˆ¶åˆ é™¤               | æ˜Žç¡®è¦åˆ é™¤æ•´ä¸ªç›®å½•æ—¶ |
| `rm -ri`             | é€é¡¹ç¡®è®¤åˆ é™¤                 | å¤„ç†æ•æ„Ÿæ•°æ®ç›®å½•     |
| `rm -I`              | æ‰¹é‡æ“ä½œæ—¶å•æ¬¡ç¡®è®¤           | æ¸…ç†å¤§é‡ä¸´æ—¶æ–‡ä»¶     |
| `rm -v`              | æ˜¾ç¤ºåˆ é™¤è¯¦æƒ…                 | è°ƒè¯•/è®°å½•æ“ä½œæ—¥å¿—    |
| `rm --preserve-root` | é˜²æ­¢è¯¯åˆ æ ¹ç›®å½•ï¼ˆé»˜è®¤å·²å¯ç”¨ï¼‰ | æ‰€æœ‰æ¶‰åŠ `/` çš„æ“ä½œ  |

---

#### **å››ã€é˜²å¾¡æ€§ç¼–ç¨‹å®žè·µ**

```bash
# å®‰å…¨åˆ é™¤è„šæœ¬æ¨¡æ¿
TARGET_DIR="important_data/"

# 1. æ£€æŸ¥ç›®å½•å­˜åœ¨æ€§
if [ ! -d "$TARGET_DIR" ]; then
    echo "é”™è¯¯ï¼šç›®å½•ä¸å­˜åœ¨"
    exit 1
fi

# 2. æ˜¾ç¤ºå³å°†åˆ é™¤çš„å†…å®¹
echo "å³å°†åˆ é™¤ï¼š"
tree "$TARGET_DIR"

# 3. äºŒæ¬¡ç¡®è®¤
read -p "ç¡®è®¤åˆ é™¤ï¼Ÿ(y/n) " -n 1 -r
if [[ $REPLY =~ ^[Yy]$ ]]; then
    rm -rf "$TARGET_DIR"
    echo -e "\nåˆ é™¤å®Œæˆ"
else
    echo -e "\næ“ä½œå–æ¶ˆ"
fi
```

---

#### **äº”ã€æ›¿ä»£æ–¹æ¡ˆæŽ¨è**

| **å·¥å…·**    | **ä¼˜åŠ¿**                 | **ç¤ºä¾‹**                                    |
| ----------- | ------------------------ | ------------------------------------------- |
| `trash-cli` | ç±»ä¼¼å›žæ”¶ç«™æœºåˆ¶ï¼ˆå¯æ¢å¤ï¼‰ | `trash-put large_file.zip`                  |
| `shred`     | å®‰å…¨æ“¦é™¤ï¼ˆé˜²æ•°æ®æ¢å¤ï¼‰   | `shred -u secret.doc`                       |
| `rsync`     | é€šè¿‡ç©ºåŒæ­¥å®žçŽ°åˆ é™¤       | `rsync -av --delete empty_dir/ target_dir/` |
| `unlink`    | ä»…åˆ é™¤å•ä¸ªæ–‡ä»¶ï¼ˆæ›´åº•å±‚ï¼‰ | `unlink broken_symlink`                     |

---

### **ç»ˆæžå®‰å…¨å‡†åˆ™**

1. **ä¸‰æ€åŽè¡Œ**ï¼šæ‰§è¡Œ `rm -rf` å‰é»˜å¿µå®Œæ•´è·¯å¾„  

2. **å¤‡ä»½ä¼˜å…ˆ**ï¼š  

   ```bash
   # å¿«é€Ÿåˆ›å»ºæ—¶é—´æˆ³å¤‡ä»½
   cp -a target_dir/ target_dir_$(date +%Y%m%d_%H%M%S)
   ```

3. **ä½¿ç”¨åˆ«åé˜²æŠ¤**ï¼š  

   ```bash
   # åœ¨ ~/.bashrc æ·»åŠ 
   alias rm='rm -I'  # é»˜è®¤å¯ç”¨æ™ºèƒ½ç¡®è®¤
   ```

# Linux `tree` å‘½ä»¤å®Œå…¨æŒ‡å—ï¼šç›®å½•ç»“æž„å¯è§†åŒ–  

## ä¸€ã€æ ¸å¿ƒåŠŸèƒ½è§£æž  
`tree` æ˜¯ Linux ç³»ç»Ÿä¸­ **ç›®å½•ç»“æž„å¯è§†åŒ–å·¥å…·**ï¼Œä»¥æ ‘çŠ¶æ ¼å¼é€’å½’å±•ç¤ºç›®å½•å±‚çº§ã€‚ç›¸æ¯” `ls -R` çš„çº¿æ€§è¾“å‡ºï¼Œ`tree` èƒ½æ›´ç›´è§‚å‘ˆçŽ°æ–‡ä»¶ç³»ç»Ÿçš„åµŒå¥—å…³ç³»ï¼Œæ”¯æŒé¢œè‰²æ ‡æ³¨ã€æ ¼å¼è¿‡æ»¤ã€æ·±åº¦æŽ§åˆ¶ç­‰é«˜çº§åŠŸèƒ½ã€‚

---

## äºŒã€å®‰è£…æ–¹æ³•  

### 1. ä¸»æµå‘è¡Œç‰ˆå®‰è£…å‘½ä»¤  
| ç³»ç»Ÿç±»åž‹                | å®‰è£…å‘½ä»¤                    |  
|-------------------------|---------------------------|  
| RHEL/CentOS 7åŠä»¥ä¸‹      | `sudo yum install tree`    |  
| RHEL/CentOS 8+/Fedora   | `sudo dnf install tree`    |  
| Debian/Ubuntu/Mint      | `sudo apt install tree`    |  
| macOS                  | `brew install tree`        |  

### 2. éªŒè¯å®‰è£…  
```bash  
tree --version  # è¾“å‡ºç¤ºä¾‹ï¼štree v2.0.4  
```  

---

## ä¸‰ã€åŸºç¡€è¯­æ³•ä¸Žå¸¸ç”¨é€‰é¡¹  

### 1. åŸºç¡€å‘½ä»¤æ ¼å¼  
```bash  
tree [é€‰é¡¹] [ç›®å½•è·¯å¾„]  
```  

### 2. æ ¸å¿ƒé€‰é¡¹é€ŸæŸ¥è¡¨  

| é€‰é¡¹           | åŠŸèƒ½æè¿°                          |  
|----------------|-----------------------------------|  
| `-a`           | æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼ˆä»¥ `.` å¼€å¤´çš„æ–‡ä»¶ï¼‰   |  
| `-d`           | ä»…æ˜¾ç¤ºç›®å½•                        |  
| `-L N`         | é™åˆ¶ç›®å½•é€’å½’æ·±åº¦ä¸º N å±‚            |  
| `-I "æ¨¡å¼"`    | æŽ’é™¤åŒ¹é…é€šé…ç¬¦çš„æ–‡ä»¶/ç›®å½•           |  
| `-f`           | æ˜¾ç¤ºå®Œæ•´è·¯å¾„                      |  
| `-s`           | æ˜¾ç¤ºæ–‡ä»¶å¤§å°                      |  
| `-p`           | æ˜¾ç¤ºæ–‡ä»¶æƒé™                      |  
| `-u`           | æ˜¾ç¤ºæ–‡ä»¶æ‰€æœ‰è€…                    |  
| `-g`           | æ˜¾ç¤ºæ–‡ä»¶æ‰€å±žç»„                    |  
| `-D`           | æ˜¾ç¤ºæœ€åŽä¿®æ”¹æ—¶é—´                  |  
| `-o æ–‡ä»¶å`    | å°†è¾“å‡ºä¿å­˜åˆ°æŒ‡å®šæ–‡ä»¶              |  

---

## å››ã€å®žæˆ˜æ¡ˆä¾‹æ¼”ç¤º  

### 1. åŸºæœ¬ç›®å½•ç»“æž„å±•ç¤º  
```bash  
tree /var/log  
```  
**è¾“å‡ºç¤ºä¾‹**ï¼š  
```  
/var/log  
â”œâ”€â”€ apt  
â”‚   â”œâ”€â”€ history.log  
â”‚   â””â”€â”€ term.log  
â”œâ”€â”€ auth.log  
â”œâ”€â”€ syslog  
â””â”€â”€ nginx  
    â”œâ”€â”€ access.log  
    â””â”€â”€ error.log  

3 directories, 5 files  
```  

### 2. æ˜¾ç¤ºéšè—æ–‡ä»¶å¹¶é™åˆ¶æ·±åº¦  
```bash  
tree -a -L 2 ~/.config  
```  

### 3. æŽ’é™¤ç‰¹å®šæ–‡ä»¶ç±»åž‹  
```bash  
tree -I "*.tmp|*.bak" /data  
```  

---

## äº”ã€é«˜çº§ä½¿ç”¨æŠ€å·§  

### 1. ç”ŸæˆHTMLæŠ¥å‘Š  
```bash  
tree -H . -o report.html  # ç”Ÿæˆå¸¦è¶…é“¾æŽ¥çš„HTMLç›®å½•æ ‘  
```  

### 2. ç»“åˆç®¡é“æ“ä½œç­›é€‰ç»“æžœ  
```bash  
tree -f | grep "\.conf$"  # æŸ¥æ‰¾æ‰€æœ‰.confé…ç½®æ–‡ä»¶  
```  

### 3. æ˜¾ç¤ºæ–‡ä»¶å…ƒä¿¡æ¯ç»„åˆ  
```bash  
tree -sugpD  # åŒæ—¶æ˜¾ç¤ºå¤§å°ã€ç”¨æˆ·ã€ç»„ã€æƒé™å’Œæ—¶é—´  
```  

---

## å…­ã€`tree` vs å…¶ä»–å‘½ä»¤å¯¹æ¯”  

| **åŠŸèƒ½**          | `tree`                | `ls`               | `find`             | `du`               |  
|-------------------|-----------------------|--------------------|---------------------|--------------------|  
| å¯è§†åŒ–å±‚çº§ç»“æž„     | âœ… æ ‘çŠ¶å±•ç¤º           | âŒ çº¿æ€§åˆ—è¡¨         | âŒ çº¿æ€§åˆ—è¡¨          | âŒ ä»…æ˜¾ç¤ºå¤§å°       |  
| é€’å½’æ·±åº¦æŽ§åˆ¶       | âœ… `-L N`             | âŒ                  | âœ… `-maxdepth N`     | âŒ                  |  
| æ–‡ä»¶ç±»åž‹è¿‡æ»¤       | âœ… `-I`/`-P`          | âœ… é€šé…ç¬¦           | âœ… `-name`           | âŒ                  |  
| å…ƒä¿¡æ¯æ˜¾ç¤º         | âœ… æƒé™/å¤§å°/æ—¶é—´     | âœ… åŸºç¡€ä¿¡æ¯         | âœ… éœ€ç»“åˆ`-ls`       | âœ… ä»…å¤§å°           |  
| è¾“å‡ºæ ¼å¼åŒ–         | âœ… é¢œè‰²/HTML/ASCII    | âœ… æœ‰é™æ ¼å¼         | âŒ                   | âŒ                  |  

---

## ä¸ƒã€å¸¸è§é—®é¢˜æŽ’æŸ¥  

### Q1ï¼š`tree` è¾“å‡ºä¹±ç ï¼Ÿ  
- **åŽŸå› **ï¼šç»ˆç«¯ä¸æ”¯æŒé¢œè‰²è¾“å‡º  
- **è§£å†³**ï¼šç¦ç”¨é¢œè‰²  
  ```bash  
  tree -n  # æˆ– export TERM=xterm  
  ```  

### Q2ï¼šå¦‚ä½•æ˜¾ç¤ºç›®å½•æ€»å¤§å°ï¼Ÿ  
- **æ–¹æ¡ˆ**ï¼šç»“åˆ `du` å‘½ä»¤  
  ```bash  
  tree -d | xargs du -sh  
  ```  

---

## å…«ã€æ‰©å±•åº”ç”¨åœºæ™¯  

### 1. é¡¹ç›®æ–‡æ¡£è‡ªåŠ¨ç”Ÿæˆ  
```bash  
# æ¯æ—¥ç”Ÿæˆé¡¹ç›®ç»“æž„å¿«ç…§  
tree -H "https://project.com" -T "Project Structure" -o $(date +%Y%m%d).html  
```  

### 2. ç£ç›˜ç©ºé—´åˆ†æž  
```bash  
tree -sugD /var | grep -v ' 0B '  # è¿‡æ»¤ç©ºæ–‡ä»¶  
```  

### 3. æƒé™å®¡è®¡  
```bash  
tree -p | awk '$3 ~ /^drwxrwx---/ {print $0}'  # æŸ¥æ‰¾ç‰¹å®šæƒé™ç›®å½•  
```  

---

é€šè¿‡æŽŒæ¡ `tree` å‘½ä»¤ï¼Œæ‚¨å°†èƒ½å¤Ÿï¼š  
1. å¿«é€Ÿå¯è§†åŒ–å¤æ‚ç›®å½•ç»“æž„  
2. é«˜æ•ˆå®šä½ç‰¹å®šç±»åž‹æ–‡ä»¶  
3. ç”Ÿæˆå¯å­˜æ¡£çš„ç›®å½•æŠ¥å‘Š  
4. æå‡ç³»ç»Ÿç»´æŠ¤å’Œå¼€å‘æ•ˆçŽ‡  

> **ä¸“ä¸šæç¤º**ï¼šå°†å¸¸ç”¨ `tree` é…ç½®å†™å…¥ `~/.bashrc` åˆ«åï¼š  
> ```bash  
> alias t='tree -L 2 -sD -I "node_modules|.git"'  
> ```